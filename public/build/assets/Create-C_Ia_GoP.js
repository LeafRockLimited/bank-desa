import{_ as w}from"./AdminLayout-9WE8as7q.js";import{Z as V,k as N,T as B,l as T,r as u,o as n,c as l,a as d,w as k,F as C,b as t,e as g,v as f,t as a,d as m,f as j,m as A}from"./app-xshmINiS.js";import{C as L}from"./CardBody-DDyTtAB0.js";import{P as D}from"./PrimaryButton-1w3nVphY.js";import{T as x}from"./Toast-DO6WADHa.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";const U={components:{AuthenticatedLayout:w,Head:V,Link:N,CardBody:L,PrimaryButton:D},props:{jenis_rekening:Object,tipe:Array,sub_tipe:Array},data(){return{form:B({jenis_rekening_id:this.jenis_rekening.id,nomor_rekening:null,nama_rekening:null,tipe:null,sub_tipe:null,status:"aktif",deskripsi:null}),errors:{},blockSizes:[1],separator:"."}},computed:{tipeList(){return this.tipe.map(r=>({label:r.tipe,code:r.tipe}))},subTipeList(){return this.sub_tipe.map(r=>({label:r.sub_tipe,code:r.sub_tipe}))}},methods:{formatNumber(r){let s=r.target.value.replace(/\D/g,""),c=[],p=0,e=0;for(;p<s.length;){const i=this.blockSizes[e%this.blockSizes.length],_=s.substr(p,i);_&&c.push(_),p+=i,e++}this.form.nomor_rekening=c.join(this.separator)},async submit(){try{await T.post(route("kode_rekening.store"),this.form),x.fire({icon:"success",title:"Data Berhasil disimpan"}),this.$inertia.visit(route("kode_rekening.index",{jenis_rekening:this.jenis_rekening.id}))}catch(r){r.response.status===422&&(this.errors=r.response.data.errors),x.fire({icon:"error",title:"Data gagal disimpan"})}}}},I=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kode Rekening ",-1),R={class:"grid grid-cols-1 gap-6"},z=t("div",{class:"w-full"},[t("p",{class:"text-lg font-bold"},"Isi form kode rekening"),t("p",null,"Isi formulir kode rekening baru")],-1),K={class:"grid grid-cols-1 gap-6"},P={class:""},H=t("label",{for:"nomor_rekening",class:"block text-sm font-medium text-gray-700"},"Nomor Kode Rekening",-1),F=["placeholder"],M={key:0,class:"text-red-600 text-sm mt-1"},E={class:""},O=t("label",{for:"nama_rekening",class:"block text-sm font-medium text-gray-700"},"Nama Rekening",-1),Z={key:0,class:"text-red-600 text-sm mt-1"},q={class:""},G=t("label",{for:"tipe",class:"block text-sm font-medium text-gray-700"},"Tipe Akun",-1),J={key:0,class:"text-red-600 text-sm mt-1"},Q={class:""},W=t("label",{for:"tipe",class:"block text-sm font-medium text-gray-700"},"Sub Tipe Akun",-1),X={key:0,class:"text-red-600 text-sm mt-1"},Y={class:""},$=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1),ee=t("option",{value:"aktif"},"Aktif",-1),te=t("option",{value:"nonaktif"},"Nonaktif",-1),se=[ee,te],oe={key:0,class:"text-red-600 text-sm mt-1"},re={class:""},ie=t("label",{for:"deskripsi",class:"block text-sm font-medium text-gray-700"},"Deskripsi",-1),ne={key:0,class:"text-red-600 text-sm mt-1"};function le(r,s,c,p,e,i){const _=u("Head"),b=u("v-select"),h=u("PrimaryButton"),y=u("CardBody"),v=u("AuthenticatedLayout");return n(),l(C,null,[d(_,{title:"Kode Rekening"}),d(v,null,{header:k(()=>[I]),default:k(()=>[d(y,null,{content:k(()=>[t("div",R,[z,t("div",K,[t("div",P,[H,g(t("input",{id:"nomor_rekening","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.nomor_rekening=o),type:"text",onInput:s[1]||(s[1]=o=>i.formatNumber(o)),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:c.jenis_rekening.id+".x.x.x..."},null,40,F),[[f,e.form.nomor_rekening]]),e.errors.nomor_rekening?(n(),l("p",M,a(e.errors.nomor_rekening[0]),1)):m("",!0)]),t("div",E,[O,g(t("input",{id:"nama_rekening","onUpdate:modelValue":s[2]||(s[2]=o=>e.form.nama_rekening=o),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Nama kode rekening"},null,512),[[f,e.form.nama_rekening]]),e.errors.nama_rekening?(n(),l("p",Z,a(e.errors.nama_rekening[0]),1)):m("",!0)]),t("div",q,[G,d(b,{modelValue:e.form.tipe,"onUpdate:modelValue":s[3]||(s[3]=o=>e.form.tipe=o),taggable:"",options:i.tipeList},null,8,["modelValue","options"]),e.errors.tipe?(n(),l("p",J,a(e.errors.tipe[0]),1)):m("",!0)]),t("div",Q,[W,d(b,{modelValue:e.form.sub_tipe,"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.sub_tipe=o),taggable:"",options:i.subTipeList},null,8,["modelValue","options"]),e.errors.sub_tipe?(n(),l("p",X,a(e.errors.sub_tipe[0]),1)):m("",!0)]),t("div",Y,[$,g(t("select",{id:"status","onUpdate:modelValue":s[5]||(s[5]=o=>e.form.status=o),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},se,512),[[j,e.form.status]]),e.errors.status?(n(),l("p",oe,a(e.errors.status[0]),1)):m("",!0)]),t("div",re,[ie,g(t("textarea",{id:"deskripsi","onUpdate:modelValue":s[6]||(s[6]=o=>e.form.deskripsi=o),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Deskripsi kode rekening"},null,512),[[f,e.form.deskripsi]]),e.errors.deskripsi?(n(),l("p",ne,a(e.errors.deskripsi[0]),1)):m("",!0)]),t("button",{onClick:s[7]||(s[7]=(...o)=>i.submit&&i.submit(...o))},[d(h,{class:""},{default:k(()=>[A("+ Tambah Kode Rekening")]),_:1})])])])]),_:1})]),_:1})],64)}const ge=S(U,[["render",le]]);export{ge as default};
