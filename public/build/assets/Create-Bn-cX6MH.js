import{_ as y}from"./AdminLayout-9WE8as7q.js";import{Z as k,T as v,r as g,o as r,c as i,a as m,w as _,F as w,b as e,t as l,d as u,e as c,v as p,f as A,p as C,g as j}from"./app-xshmINiS.js";import{C as V}from"./CardBody-DDyTtAB0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";const T={components:{AuthenticatedLayout:y,Head:k,CardBody:V},props:{pinjaman:{type:Number,required:!0}},data(){return{form:v({pinjaman_id:this.pinjaman,jenis_agunan:"",nilai_agunan:0,deskripsi_agunan:"",tanggal_diserahkan:null,status_agunan:"",gambar_agunan:null}),errors:{}}},methods:{handleFileChange(t){this.form.gambar_agunan=t.target.files[0]},async prosesAgunan(){try{const t=await axios.post(route("agunan.store"),this.form,{headers:{"Content-Type":"multipart/form-data"}});console.log(t),this.$inertia.visit(route("pinjaman.index"))}catch(t){t.response.status==422&&(this.errors=t.response.data.errors)}}}},a=t=>(C("data-v-4c0d43be"),t=t(),j(),t),F=a(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Formulir Agunan",-1)),D={class:"space-y-3"},S=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Jenis Agunan",-1)),N={key:0,class:"text-red-600 text-sm"},U=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Nilai Agunan",-1)),I={key:0,class:"text-red-600 text-sm"},H=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Deskripsi Agunan",-1)),J={key:0,class:"text-red-600 text-sm"},L=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Diserahkan",-1)),q={key:0,class:"text-red-600 text-sm"},M=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"Status Agunan",-1)),E=a(()=>e("option",{value:"tercatat"},"Tercatat",-1)),K=a(()=>e("option",{value:"diserahkan"},"Diserahkan",-1)),R=a(()=>e("option",{value:"dilepaskan"},"Dilepaskan",-1)),Z=[E,K,R],z={key:0,class:"text-red-600 text-sm"},G=a(()=>e("label",{class:"block text-sm font-medium text-gray-700"},"File Jaminan",-1)),O={key:0,class:"text-red-600 text-sm"},P={class:"mt-6 flex justify-end"};function Q(t,s,W,X,n,d){const f=g("Head"),h=g("v-select"),b=g("CardBody"),x=g("AuthenticatedLayout");return r(),i(w,null,[m(f,{title:"Tambah Agunan"}),m(x,null,{header:_(()=>[F]),default:_(()=>[m(b,null,{content:_(()=>[e("div",D,[e("div",null,[S,m(h,{taggable:"",options:["Rumah","Kendaraan","Tanah","Barang Berharga"],modelValue:n.form.jenis_agunan,"onUpdate:modelValue":s[0]||(s[0]=o=>n.form.jenis_agunan=o),label:"Jenis Agunan"},null,8,["modelValue"]),n.errors.jenis_agunan?(r(),i("span",N,l(n.errors.jenis_agunan[0]),1)):u("",!0)]),e("div",null,[U,c(e("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=o=>n.form.nilai_agunan=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[p,n.form.nilai_agunan]]),n.errors.nilai_agunan?(r(),i("span",I,l(n.errors.nilai_agunan[0]),1)):u("",!0)]),e("div",null,[H,c(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>n.form.deskripsi_agunan=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[p,n.form.deskripsi_agunan]]),n.errors.deskripsi_agunan?(r(),i("span",J,l(n.errors.deskripsi_agunan[0]),1)):u("",!0)]),e("div",null,[L,c(e("input",{type:"date","onUpdate:modelValue":s[3]||(s[3]=o=>n.form.tanggal_diserahkan=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[p,n.form.tanggal_diserahkan]]),n.errors.tanggal_diserahkan?(r(),i("span",q,l(n.errors.tanggal_diserahkan[0]),1)):u("",!0)]),e("div",null,[M,c(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>n.form.status_agunan=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},Z,512),[[A,n.form.status_agunan]]),n.errors.status_agunan?(r(),i("span",z,l(n.errors.status_agunan[0]),1)):u("",!0)]),e("div",null,[G,e("input",{type:"file",onChange:s[5]||(s[5]=(...o)=>d.handleFileChange&&d.handleFileChange(...o)),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,32),n.errors.gambar_agunan?(r(),i("span",O,l(n.errors.gambar_agunan[0]),1)):u("",!0)])]),e("div",P,[e("button",{onClick:s[6]||(s[6]=(...o)=>d.prosesAgunan&&d.prosesAgunan(...o)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Tambahkan Agunan ")])]),_:1})]),_:1})],64)}const te=B(T,[["render",Q],["__scopeId","data-v-4c0d43be"]]);export{te as default};
