import{D as R,_ as B}from"./SecondaryButton-B-awMcv5.js";import{T as p}from"./Toast-DO6WADHa.js";import{r as _,o as n,c as o,b as e,e as i,f as C,F as f,h as m,y as x,v as S,s as d,t as c,a as w,w as b,m as D,n as N}from"./app-xshmINiS.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={components:{DangerButton:R,SecondaryButton:B},props:{headers:Array,data:Array,links:Array,lengthProps:Number,deleteData:{type:Boolean,default:!1},deleteRoute:String,editData:{type:Boolean,default:!1},editRoute:String,startRow:{type:Number,default:1},endRow:Number,totalData:Number,actionUsingId:{type:Boolean,default:!1}},computed:{bodyData(){return this.data.map(r=>{let a=[];return this.headers.forEach(t=>{let g=r;t.split(".").forEach(u=>{g=g?g[u]:null}),a.push(g)}),a})},links(){return this.links.map(a=>{let t=this.getParams(a.url);return a.page=t,a})}},data(){return{lengthData:this.lengthProps??10,searchQuery:null}},watch:{lengthData(r){this.$emit("change-length",r)},searchQuery(r){this.$emit("on-search",r)}},methods:{clickPage(r){return this.$emit("click-page",r)},getParams(r){try{return new URL(r).searchParams.get("page")}catch{return 1}},editDataHandler(r){const a=this.data[r];this.$inertia.visit(route(this.editRoute,this.actionUsingId==!0?{id:a.id}:a))},async deleteDataHandler(r){const a=this.data[r];try{await axios.delete(route(this.deleteRoute,this.actionUsingId==!0?{id:a.id}:a)),p.fire({icon:"success",title:"Data berhasil di hapus"}),this.refreshData()}catch(t){p.fire({icon:"error",title:"Data gagal di hapus"}),console.log(t)}},refreshData(){this.$emit("refreshed-data")}}},H={class:"p-4"},U={class:"flex flex-row items-start justify-between mb-4"},M={class:"flex flex-row space-x-3 px-3 items-start"},V={class:"relative overflow-x-auto w-full"},E={class:"divide-y w-full divide-gray-200"},L={class:"bg-gray-50"},Q={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},j={class:"bg-white divide-y divide-gray-200"},A={class:"flex flex-row space-x-2 items-center"},I={class:"grid grid-cols-1 lg:flex lg:flex-row lg:justify-between"},F={"aria-label":"Page navigation example"},z={class:"inline-flex -space-x-px text-base h-10"},q=["onClick"],G=["innerHTML"];function J(r,a,t,g,u,h){const v=_("SecondaryButton"),k=_("DangerButton");return n(),o("div",H,[e("div",U,[e("div",M,[i(e("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>u.lengthData=s),class:"md:w-20 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5"},[(n(),o(f,null,m(100,(s,l)=>i(e("option",{key:l},[e("div",null,c(s),1)]),[[d,s==10||s%25==0]])),64))],512),[[C,u.lengthData]]),x(r.$slots,"filter")]),i(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=s=>u.searchQuery=s),placeholder:"Cari...",class:"border rounded-lg w-fit"},null,512),[[S,u.searchQuery]])]),e("div",V,[e("table",E,[e("thead",L,[e("tr",null,[i(e("td",Q,"No",512),[[d,t.startRow]]),(n(!0),o(f,null,m(t.headers,(s,l)=>(n(),o("td",{key:l,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},c(s),1))),128)),i(e("td",null,null,512),[[d,t.deleteData==!0||r.detailData==!0]])])]),e("tbody",j,[(n(!0),o(f,null,m(h.bodyData,(s,l)=>(n(),o("tr",{key:l,class:"transition duration-300 ease-in-out hover:bg-gray-100"},[i(e("td",null,c(t.startRow+l),513),[[d,t.startRow]]),(n(!0),o(f,null,m(s,(y,K)=>(n(),o("td",{key:l,class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},c(y),1))),128)),i(e("td",null,[e("div",A,[x(r.$slots,"options",{item:t.data[l]}),i(w(v,{onClick:y=>h.editDataHandler(l)},{default:b(()=>[D(" Edit ")]),_:2},1032,["onClick"]),[[d,t.editData]]),i(w(k,{onClick:y=>h.deleteDataHandler(l)},{default:b(()=>[D(" Hapus ")]),_:2},1032,["onClick"]),[[d,t.deleteData]])])],512),[[d,t.deleteData==!0||t.editData==!0]])]))),128))])])]),e("div",I,[e("span",null,"Menampilkan data "+c(t.startRow)+" - "+c(t.endRow)+" dari "+c(t.totalData),1),e("nav",F,[e("ul",z,[(n(!0),o(f,null,m(h.links,(s,l)=>(n(),o("li",{key:l},[e("div",{onClick:y=>h.clickPage(s.page),class:N(["flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 cursor-pointer",{"rounded-s-lg":l==0,"rounded-r-lg":l==h.links.length-1}])},[e("span",{innerHTML:s.label},null,8,G)],10,q)]))),128))])])])])}const Z=P(T,[["render",J]]);export{Z as T};
