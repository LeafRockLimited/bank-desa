import{_ as C}from"./AdminLayout-9WE8as7q.js";import{Z as R,C as K,T as L,l as y,r as s,o as i,c as a,a as l,w as m,F as D,b as t,t as u,d as g,e as c,v as k,m as P,i as S}from"./app-xshmINiS.js";import{C as F}from"./CardBody-DDyTtAB0.js";import{P as U}from"./PrimaryButton-1w3nVphY.js";import{T as x}from"./Toast-DO6WADHa.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";const A={components:{AuthenticatedLayout:C,Head:R,CardBody:F,PrimaryButton:U,vSelect:K},data(){return{form:L({id_kode_rekening:null,tanggal:Date.now(),debit:0,kredit:0,keterangan:""}),kodeRekenings:[],pagination:{page:1,length:10},isLoading:!1,searchQuery:null,errors:{}}},methods:{fetchKodeRekening(r=null){this.isLoading=!0;const o={searchQuery:r,length:this.pagination.length,page:this.pagination.page};y.get(route("kode_rekening.show"),{params:o}).then(d=>{this.kodeRekenings=d.data.data,this.pagination={...this.pagination,total:d.data.total,links:d.data.links}}).finally(()=>{this.isLoading=!1})},submitForm(){y.post(route("buku_besar.store"),this.form).then(()=>{x.fire({icon:"success",title:"Data Berhasil disimpan"}),this.$inertia.visit(route("buku_besar.index"))}).catch(r=>{r.response.status===422&&(this.errors=r.response.data.errors),x.fire({icon:"error",title:"Data gagal disimpan"})})}},watch:{"pagination.page"(r){this.fetchKodeRekening(this.searchQuery)}},mounted(){this.fetchKodeRekening()}},H=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Tambah Transaksi Buku Besar ",-1),Q={class:"mb-4"},M=t("label",{for:"id_kode_rekening",class:"block text-gray-700"},"Kode Rekening",-1),E={key:0,class:"block text-sm font-medium text-red-500"},Z={class:"mb-4"},j=t("label",{for:"tanggal",class:"block text-gray-700"},"Tanggal",-1),q={key:0,class:"block text-sm font-medium text-red-500"},z={class:"mb-4"},G=t("label",{for:"debit",class:"block text-gray-700"},"Debit",-1),I={key:0,class:"block text-sm font-medium text-red-500"},J={class:"mb-4"},O=t("label",{for:"kredit",class:"block text-gray-700"},"Kredit",-1),W={key:0,class:"block text-sm font-medium text-red-500"},X={class:"mb-4"},Y=t("label",{for:"keterangan",class:"block text-gray-700"},"Keterangan",-1);function $(r,o,d,ee,e,_){const v=s("Head"),w=s("v-select"),B=s("PrimaryButton"),T=s("CardBody"),V=s("AuthenticatedLayout");return i(),a(D,null,[l(v,{title:"Tambah Transaksi Buku Besar"}),l(V,null,{header:m(()=>[H]),default:m(()=>[l(T,null,{content:m(()=>{var p,b,f,h;return[t("form",{onSubmit:o[5]||(o[5]=S((...n)=>_.submitForm&&_.submitForm(...n),["prevent"]))},[t("div",Q,[M,l(w,{modelValue:e.form.id_kode_rekening,"onUpdate:modelValue":o[0]||(o[0]=n=>e.form.id_kode_rekening=n),options:e.kodeRekenings,reduce:n=>n.id,loading:e.isLoading,onSearch:_.fetchKodeRekening,pagination:e.pagination,label:"nama_rekening",placeholder:"Pilih kode rekening"},null,8,["modelValue","options","reduce","loading","onSearch","pagination"]),e.errors.id_kode_rekening!=null?(i(),a("label",E,u((p=e.errors)==null?void 0:p.id_kode_rekening[0]),1)):g("",!0)]),t("div",Z,[j,c(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.form.tanggal=n),type:"date",id:"tanggal",class:"w-full border-gray-300 rounded-md"},null,512),[[k,e.form.tanggal]]),e.errors.tanggal!=null?(i(),a("label",q,u((b=e.errors)==null?void 0:b.tanggal[0]),1)):g("",!0)]),t("div",z,[G,c(t("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.form.debit=n),type:"number",id:"debit",class:"w-full border-gray-300 rounded-md"},null,512),[[k,e.form.debit]]),e.errors.debit!=null?(i(),a("label",I,u((f=e.errors)==null?void 0:f.debit[0]),1)):g("",!0)]),t("div",J,[O,c(t("input",{"onUpdate:modelValue":o[3]||(o[3]=n=>e.form.kredit=n),type:"number",id:"kredit",class:"w-full border-gray-300 rounded-md"},null,512),[[k,e.form.kredit]]),e.errors.kredit!=null?(i(),a("label",W,u((h=e.errors)==null?void 0:h.kredit[0]),1)):g("",!0)]),t("div",X,[Y,c(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=n=>e.form.keterangan=n),id:"keterangan",rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Tambahkan keterangan transaksi"},null,512),[[k,e.form.keterangan]])]),l(B,{type:"submit"},{default:m(()=>[P("Simpan")]),_:1})],32)]}),_:1})]),_:1})],64)}const de=N(A,[["render",$]]);export{de as default};
