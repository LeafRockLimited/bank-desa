import{_ as f}from"./AdminLayout-9WE8as7q.js";import{Z as k,k as w,l as v,r as l,o as h,c,a as s,w as d,F as D,b as a,d as b}from"./app-xshmINiS.js";import{T as y}from"./Table-DNiH6u3p.js";import{C as x}from"./CardBody-DDyTtAB0.js";import{_ as R}from"./SecondaryButton-B-awMcv5.js";import{H as i}from"./Helper-CD4WHvGO.js";import{T as C}from"./TahunFilter-BkdHPHG_.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";import"./Toast-DO6WADHa.js";const V={components:{AuthenticatedLayout:f,Head:k,Link:w,Table:y,CardBody:x,SecondaryButton:R,TahunFilter:C},data(){return{selectedYear:new Date().getFullYear(),page:1,length:10,responseData:{},tableData:[],searchQuery:null}},computed:{startRow(){return this.responseData.from??0},endRow(){return this.responseData.to??0},headers(){return["kode_rekening","nama_rekening","total_debit","total_kredit","total_saldo"]},links(){return this.responseData.links??[]},totalData(){return this.responseData.total??0}},watch:{searchQuery(t){this.page=1,this.getData()},page(t){this.getData()},length(t){this.page=1,this.getData()},selectedYear(t){this.page=1,this.getData()}},methods:{getData(){console.log(this.length),v.get(route("neraca.show",{page:this.page,length:this.length,search:this.searchQuery,tahun:this.selectedYear})).then(t=>{this.responseData=t.data,this.tableData=t.data.data.map(e=>({kode_rekening:e.kode_rekening,nama_rekening:e.nama_rekening,total_debit:i.rupiah(e.total_debit),total_kredit:i.rupiah(e.total_kredit),total_saldo:i.rupiah(e.total_saldo),kode_rekening_id:e.kode_rekening_id}))}).catch(t=>{console.error("Error fetching neraca data:",t)})}},mounted(){this.getData()}},B=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Rekap Neraca",-1),T={class:"flex flex-col space-y-4"},L=a("div",{class:"w-full"},[a("p",{class:"text-lg font-bold"},"Rekap Neraca"),a("p",null," Laporan neraca ini menampilkan total debit, kredit, dan saldo berdasarkan tahun dan kode rekening.")],-1),z=["href"],F=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32"},[a("path",{fill:"#20744a","fill-rule":"evenodd",d:"M28.781 4.405h-10.13V2.018L2 4.588v22.527l16.651 2.868v-3.538h10.13A1.16 1.16 0 0 0 30 25.349V5.5a1.16 1.16 0 0 0-1.219-1.095m.16 21.126H18.617l-.017-1.889h2.487v-2.2h-2.506l-.012-1.3h2.518v-2.2H18.55l-.012-1.3h2.549v-2.2H18.53v-1.3h2.557v-2.2H18.53v-1.3h2.557v-2.2H18.53v-2h10.411Z"}),a("path",{fill:"#20744a",d:"M22.487 7.439h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323z"}),a("path",{fill:"#fff","fill-rule":"evenodd",d:"m6.347 10.673l2.146-.123l1.349 3.709l1.594-3.862l2.146-.123l-2.606 5.266l2.606 5.279l-2.269-.153l-1.532-4.024l-1.533 3.871l-2.085-.184l2.422-4.663z"})],-1),N=a("span",null,"Download",-1),Y=[F,N];function A(t,e,Q,E,r,o){const p=l("Head"),g=l("TahunFilter"),u=l("Table"),m=l("CardBody"),_=l("AuthenticatedLayout");return h(),c(D,null,[s(p,{title:"Neraca"}),s(_,null,{header:d(()=>[B]),default:d(()=>[s(m,null,{content:d(()=>[a("div",T,[L,s(u,{headers:o.headers,data:r.tableData,startRow:o.startRow,links:o.links,totalData:o.totalData,endRow:o.endRow,onRefreshedData:e[1]||(e[1]=()=>{o.getData()}),onClickPage:e[2]||(e[2]=n=>{r.page=n}),onChangeLength:e[3]||(e[3]=n=>{r.length=n}),onOnSearch:e[4]||(e[4]=n=>{r.searchQuery=n})},{filter:d(()=>[t.route().has("neraca.download")?(h(),c("a",{key:0,href:t.route("neraca.download",{tahun:t.tahun,bulan:t.bulan}),class:"border px-3 rounded-md border-gray-300 bg-gray-50 inline-flex items-center text-gray-600 space-x-1"},Y,8,z)):b("",!0),s(g,{onOnChange:e[0]||(e[0]=n=>{r.selectedYear=n})})]),_:1},8,["headers","data","startRow","links","totalData","endRow"])])]),_:1})]),_:1})],64)}const U=H(V,[["render",A]]);export{U as default};
