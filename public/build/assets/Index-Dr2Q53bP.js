import{_ as y}from"./AdminLayout-9WE8as7q.js";import{Z as v,k,l as x,r as l,o as D,c as A,a as s,w as i,F as B,b as n,m as R}from"./app-xshmINiS.js";import{T as P}from"./Table-DNiH6u3p.js";import{C as j}from"./CardBody-DDyTtAB0.js";import{P as C}from"./PrimaryButton-1w3nVphY.js";import{H as d}from"./Helper-CD4WHvGO.js";import{T as H}from"./TahunFilter-BkdHPHG_.js";import{B as T}from"./BulanFilter-BXoc2H93.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";import"./SecondaryButton-B-awMcv5.js";import"./Toast-DO6WADHa.js";const F={components:{AuthenticatedLayout:y,Head:v,Link:k,Table:P,CardBody:j,PrimaryButton:C,TahunFilter:H,BulanFilter:T},beforeMount(){this.getData()},data(){return{dataAngsuran:{},dataRow:[],page:1,length:10,searchQuery:null,tahun:this.$moment().year(),bulan:null}},computed:{headers(){return["nasabah.nama_lengkap","jumlah_bayar","tanggal_bayar","sisa_pinjaman"]},startRow(){return this.dataAngsuran.from??1},endRow(){return this.dataAngsuran.to??0},totalData(){return this.dataAngsuran.total??0},links(){return this.dataAngsuran.links??[]}},watch:{page(t){this.getData()},length(t){this.page=1,this.getData()},searchQuery(t){this.page=1,this.getData()},tahun(t){this.page=1,this.getData()},bulan(t){this.page=1,this.getData()}},methods:{async getData(){const t=route("angsuran.show",{page:this.page,length:this.length,searchQuery:this.searchQuery,tahun:this.tahun,bulan:this.bulan}),u=(await x.get(t)).data;this.dataAngsuran=u,this.mappingData()},mappingData(){var t,a;if(((a=(t=this.dataAngsuran)==null?void 0:t.data)==null?void 0:a.length)>0){let u=this.dataAngsuran.data.map(r=>(r.jumlah_bayar=d.rupiah(parseInt(r.jumlah_bayar)),r.tanggal_bayar=d.tanggal(r.tanggal_bayar),r.sisa_pinjaman=d.rupiah(parseInt(r.sisa_pinjaman)),r));this.dataRow=u}else this.dataRow=[]}}},L=n("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Angsuran Pinjaman",-1),z={class:"flex flex-row space-x-4"},Q={class:"w-fit"},I=n("p",{class:"text-lg font-bold"},"Angsur Pinjaman",-1),M=n("p",null," Tambahkan data angsuran pinjaman untuk nasabah. Pastikan untuk mengisi semua informasi yang diperlukan secara akurat untuk membantu dalam proses pembayaran pinjaman.",-1),N={class:"mt-4"},O=["href"],q=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32"},[n("path",{fill:"#20744a","fill-rule":"evenodd",d:"M28.781 4.405h-10.13V2.018L2 4.588v22.527l16.651 2.868v-3.538h10.13A1.16 1.16 0 0 0 30 25.349V5.5a1.16 1.16 0 0 0-1.219-1.095m.16 21.126H18.617l-.017-1.889h2.487v-2.2h-2.506l-.012-1.3h2.518v-2.2H18.55l-.012-1.3h2.549v-2.2H18.53v-1.3h2.557v-2.2H18.53v-1.3h2.557v-2.2H18.53v-2h10.411Z"}),n("path",{fill:"#20744a",d:"M22.487 7.439h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323zm0 3.501h4.323v2.2h-4.323z"}),n("path",{fill:"#fff","fill-rule":"evenodd",d:"m6.347 10.673l2.146-.123l1.349 3.709l1.594-3.862l2.146-.123l-2.606 5.266l2.606 5.279l-2.269-.153l-1.532-4.024l-1.533 3.871l-2.085-.184l2.422-4.663z"})],-1),Z=n("span",null,"Download",-1),E=[q,Z];function S(t,a,u,r,o,h){const m=l("Head"),p=l("PrimaryButton"),_=l("Link"),g=l("CardBody"),c=l("TahunFilter"),f=l("BulanFilter"),w=l("Table"),b=l("AuthenticatedLayout");return D(),A(B,null,[s(m,{title:"Angsuran"}),s(b,null,{header:i(()=>[L]),default:i(()=>[s(g,null,{content:i(()=>[n("div",z,[n("div",Q,[I,M,n("div",N,[s(_,{href:t.route("angsuran.create")},{default:i(()=>[s(p,{class:""},{default:i(()=>[R("+ Angsuran")]),_:1})]),_:1},8,["href"])])])])]),_:1}),s(g,null,{content:i(()=>[s(w,{headers:h.headers,data:o.dataRow,startRow:h.startRow,links:h.links,lengthProps:t.lengthProps,deleteData:!0,deleteRoute:"angsuran.delete",totalData:h.totalData,endRow:h.endRow,actionUsingId:!0,onRefreshedData:a[2]||(a[2]=()=>{h.getData()}),onClickPage:a[3]||(a[3]=e=>{o.page=e}),onChangeLength:a[4]||(a[4]=e=>{o.length=e}),onOnSearch:a[5]||(a[5]=e=>{o.searchQuery=e})},{filter:i(()=>[n("a",{href:t.route("angsuran.download",{tahun:o.tahun,bulan:o.bulan}),class:"border px-3 rounded-md border-gray-300 bg-gray-50 inline-flex items-center text-gray-600 space-x-1"},E,8,O),s(c,{onOnChange:a[0]||(a[0]=e=>{o.tahun=e})}),s(f,{onOnChange:a[1]||(a[1]=e=>{o.bulan=e})})]),_:1},8,["headers","data","startRow","links","lengthProps","totalData","endRow"])]),_:1})]),_:1})],64)}const ra=V(F,[["render",S]]);export{ra as default};
