import{_ as h}from"./AdminLayout-9WE8as7q.js";import{Z as f,C as y,T as B,l as m,r as i,o as x,c as v,a as s,w as d,F as w,b as t,e as l,v as u,m as V,i as R}from"./app-xshmINiS.js";import{C}from"./CardBody-DDyTtAB0.js";import{P as L}from"./PrimaryButton-1w3nVphY.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";const K={props:{bukuBesar:Object,kodeRekenings:Array},components:{AuthenticatedLayout:h,Head:f,CardBody:C,PrimaryButton:L,vSelect:y},data(){var a,e;return{form:B({id_kode_rekening:(e=(a=this.bukuBesar)==null?void 0:a.kode_rekening)==null?void 0:e.nama_rekening,tanggal:this.bukuBesar.tanggal,debit:parseInt(this.bukuBesar.debit),kredit:parseInt(this.bukuBesar.kredit),keterangan:this.bukuBesar.keterangan}),kodeRekenings:[],pagination:{page:1,length:10},isLoading:!1,searchQuery:null}},methods:{fetchKodeRekening(a=null){this.isLoading=!0;const e={searchQuery:a,length:this.pagination.length,page:this.pagination.page};m.get(route("kode_rekening.show"),{params:e}).then(r=>{this.kodeRekenings=r.data.data,this.pagination={...this.pagination,total:r.data.total,links:r.data.links}}).finally(()=>{this.isLoading=!1})},submitForm(){this.form.id_kode_rekening=this.kodeRekenings.find(a=>a.nama_rekening==this.form.id_kode_rekening).id,m.put(route("buku_besar.update",this.bukuBesar.id),this.form).then(()=>{this.$inertia.visit(route("buku_besar.index"))}).catch(a=>{console.log(a)})}},mounted(){this.fetchKodeRekening(),console.log(this.bukuBesar)}},U=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Transaksi Buku Besar ",-1),F={class:"mb-4"},P=t("label",{for:"id_kode_rekening",class:"block text-gray-700"},"Kode Rekening",-1),A={class:"mb-4"},E=t("label",{for:"tanggal",class:"block text-gray-700"},"Tanggal",-1),S={class:"mb-4"},H=t("label",{for:"debit",class:"block text-gray-700"},"Debit",-1),N={class:"mb-4"},D=t("label",{for:"kredit",class:"block text-gray-700"},"Kredit",-1),I={class:"mb-4"},M=t("label",{for:"keterangan",class:"block text-gray-700"},"Keterangan",-1);function Q(a,e,r,j,n,g){const k=i("Head"),c=i("v-select"),_=i("PrimaryButton"),b=i("CardBody"),p=i("AuthenticatedLayout");return x(),v(w,null,[s(k,{title:"Edit Transaksi Buku Besar"}),s(p,null,{header:d(()=>[U]),default:d(()=>[s(b,null,{content:d(()=>[t("form",{onSubmit:e[5]||(e[5]=R((...o)=>g.submitForm&&g.submitForm(...o),["prevent"]))},[t("div",F,[P,s(c,{modelValue:n.form.id_kode_rekening,"onUpdate:modelValue":e[0]||(e[0]=o=>n.form.id_kode_rekening=o),options:n.kodeRekenings,reduce:o=>o.id,loading:n.isLoading,onSearch:g.fetchKodeRekening,pagination:n.pagination,label:"nama_rekening",placeholder:"Pilih kode rekening"},null,8,["modelValue","options","reduce","loading","onSearch","pagination"])]),t("div",A,[E,l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.form.tanggal=o),type:"date",id:"tanggal",class:"w-full border-gray-300 rounded-md"},null,512),[[u,n.form.tanggal]])]),t("div",S,[H,l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>n.form.debit=o),type:"number",id:"debit",class:"w-full border-gray-300 rounded-md"},null,512),[[u,n.form.debit]])]),t("div",N,[D,l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>n.form.kredit=o),type:"number",id:"kredit",class:"w-full border-gray-300 rounded-md"},null,512),[[u,n.form.kredit]])]),t("div",I,[M,l(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>n.form.keterangan=o),id:"keterangan",rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Tambahkan keterangan transaksi"},null,512),[[u,n.form.keterangan]])]),s(_,{type:"submit"},{default:d(()=>[V("Update")]),_:1})],32)]),_:1})]),_:1})],64)}const X=T(K,[["render",Q]]);export{X as default};
