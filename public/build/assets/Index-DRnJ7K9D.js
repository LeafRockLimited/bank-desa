import{_ as w}from"./AdminLayout-D7x4X-Vj.js";import{Z as k,i as D,b as y,r,o as R,d as x,e as n,w as o,F as b,a as l,h as B}from"./app-B2goeVmr.js";import{T as U,C as V}from"./CardBody-CpEReZhc.js";import{P as j}from"./PrimaryButton-ChptpEbZ.js";import{H as h}from"./Helper-BlyvImFi.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BUQp7NpC.js";import"./ResponsiveNavLink-BwJSSKKb.js";import"./SecondaryButton-NRDCaHm7.js";const P={components:{AuthenticatedLayout:w,Head:k,Link:D,Table:U,CardBody:V,PrimaryButton:j},data(){return{dataUser:[],dataRow:[],page:1,length:10,searchQuery:null}},computed:{headers(){return["name","email","roles.name","created_at"]},startRow(){return this.dataUser.from??1},endRow(){return this.dataUser.to??0},totalData(){return this.dataUser.total??0},links(){return this.dataUser.links??[]}},watch:{page(t){this.getData()},length(t){this.page=1,this.getData()},searchQuery(t){this.page=1,this.getData()},tahun(t){this.page=1,this.getData()},bulan(t){this.page=1,this.getData()},status(t){this.page=1,this.getData()}},beforeMount(){this.getData()},methods:{async getData(){const t=route("user.show",{page:this.page,length:this.length,searchQuery:this.searchQuery}),d=(await y.get(t)).data;this.dataUser=d,this.mappingData()},mappingData(){var t,e;if(this.dataRow=[],((e=(t=this.dataUser)==null?void 0:t.data)==null?void 0:e.length)>0){let d=this.dataUser.data.map(a=>(a.nominal_diterima=h.rupiah(parseInt(a.nominal_diterima)),a.tanggal_jatuh_tempo=h.tanggal(a.tanggal_jatuh_tempo),a.tanggal_pengajuan=h.tanggal(a.tanggal_pengajuan),a.jumlah_pinjaman=h.rupiah(parseInt(a.jumlah_pinjaman)),a.roles=a.roles[0],console.log(a),a));this.dataRow=d}else return[]}}},L=l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Akun",-1),T={class:"flex flex-row space-x-4"},A={class:"w-fit"},H=l("p",{class:"text-lg font-bold"},"Buat akun baru",-1),Q=l("p",null,"Daftarkan akun baru untuk mengakses fitur diaplikasi ini",-1),v={class:"mt-4"};function I(t,e,d,a,u,s){const p=r("Head"),c=r("PrimaryButton"),m=r("Link"),g=r("CardBody"),_=r("Table"),f=r("AuthenticatedLayout");return R(),x(b,null,[n(p,{title:"Akun"}),n(f,null,{header:o(()=>[L]),default:o(()=>[n(g,null,{content:o(()=>[l("div",T,[l("div",A,[H,Q,l("div",v,[n(m,{href:t.route("user.create")},{default:o(()=>[n(c,{class:""},{default:o(()=>[B("+ Tambahkan akun")]),_:1})]),_:1},8,["href"])])])])]),_:1}),n(g,null,{content:o(()=>[n(_,{headers:s.headers,data:u.dataRow,startRow:s.startRow,links:s.links,lengthProps:t.lengthProps,deleteData:!0,deleteRoute:"user.delete",editData:!0,editRoute:"user.edit",totalData:s.totalData,endRow:s.endRow,actionUsingId:!0,onRefreshedData:e[0]||(e[0]=()=>{s.getData()}),onClickPage:e[1]||(e[1]=i=>{u.page=i}),onChangeLength:e[2]||(e[2]=i=>{u.length=i}),onOnSearch:e[3]||(e[3]=i=>{u.searchQuery=i})},null,8,["headers","data","startRow","links","lengthProps","totalData","endRow"])]),_:1})]),_:1})],64)}const G=C(P,[["render",I]]);export{G as default};
