import{_ as x}from"./AdminLayout-yMN85qC-.js";import{Z as v,i as k,T as w,b as P,r as p,o as i,d as l,e as g,w as _,F as B,a as o,t as a,f as u,g as m,m as f,v as d,p as C,q as V}from"./app-DUCcJKkA.js";import{T as N,C as S}from"./CardBody-CwyZ8Y54.js";import{P as T}from"./PrimaryButton-DVZZ6BJQ.js";import{H as U}from"./Helper-CIKUSvYd.js";import{N as F}from"./NasabahSelect-DoTcKKea.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BisSHuAT.js";import"./ResponsiveNavLink-CSFz422G.js";import"./SecondaryButton-CNe8uTBY.js";const M={components:{AuthenticatedLayout:x,Head:v,Link:k,Table:N,CardBody:S,PrimaryButton:T,NasabahSelect:F},data(){return{form:w({nasabah_id:null,jenis_pinjaman:"",jumlah_pinjaman:0,bunga:0,tanggal_pengajuan:null,tanggal_disetujui:null,tanggal_jatuh_tempo:null,status_pinjaman:""}),errors:{}}},beforeMount(){},computed:{nominalBayar(){return this.form.jumlah_pinjaman+this.form.jumlah_pinjaman*(this.form.bunga/100)},nominalBayarFormatted(){return this.formattedRupiah(this.nominalBayar)}},watch:{},methods:{formattedRupiah(r){return U.rupiah(r)},async prosesPinjam(){try{this.form.nominal_diterima=this.form.jumlah_pinjaman;const e=(await P.post(route("pinjaman.store"),this.form)).data;this.$inertia.visit(route("pinjaman.index"))}catch(r){this.errors=r.response.data.errors}}}},n=r=>(C("data-v-12212ca8"),r=r(),V(),r),A=n(()=>o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Formulir Peminjaman",-1)),I={class:"space-y-3"},L=n(()=>o("p",null,"Pilih Nasabah",-1)),R={key:0,class:"text-red-600 text-sm"},q=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Jenis Pinjaman",-1)),D=n(()=>o("option",{value:"mingguan"},"Mingguan",-1)),J=n(()=>o("option",{value:"bulanan"},"Bulanan",-1)),E=n(()=>o("option",{value:"musiman"},"Musiman",-1)),O=n(()=>o("option",{value:"tahunan"},"Tahunan",-1)),Z=[D,J,E,O],z={key:0,class:"text-red-600 text-sm"},G=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Jumlah Pinjaman",-1)),K={class:"block text-sm font-medium text-gray-700 text-end"},Q={key:0,class:"text-red-600 text-sm"},W=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Bunga (%)",-1)),X={key:0,class:"text-red-600 text-sm"},Y={class:"py-6 flex flex-row justify-between"},$=n(()=>o("span",{class:"text-lg font-medium text-gray-700"},"Nominal yang harus dibayar:",-1)),oo={class:"text-lg font-medium text-gray-700"},to=n(()=>o("hr",null,null,-1)),eo=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Pengajuan",-1)),no={key:0,class:"text-red-600 text-sm"},so=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Disetujui",-1)),ao={key:0,class:"text-red-600 text-sm"},ro=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Jatuh Tempo",-1)),io={key:0,class:"text-red-600 text-sm"},lo=n(()=>o("label",{class:"block text-sm font-medium text-gray-700"},"Status Pinjaman",-1)),uo=n(()=>o("option",{value:"pending"},"Pending",-1)),mo=n(()=>o("option",{value:"approved"},"Approved",-1)),co=n(()=>o("option",{value:"rejected"},"Rejected",-1)),po=n(()=>o("option",{value:"paid"},"Paid",-1)),go=[uo,mo,co,po],_o={key:0,class:"text-red-600 text-sm"},fo={class:"mt-6 flex justify-end"};function ho(r,e,bo,jo,t,c){const h=p("Head"),b=p("NasabahSelect"),j=p("CardBody"),y=p("AuthenticatedLayout");return i(),l(B,null,[g(h,{title:"Proses pinjaman"}),g(y,null,{header:_(()=>[A]),default:_(()=>[g(j,null,{content:_(()=>[o("div",I,[o("div",null,[L,g(b,{onOnChange:e[0]||(e[0]=s=>{t.form.nasabah_id=s})}),t.errors.nasabah_id?(i(),l("span",R,a(t.errors.nasabah_id),1)):u("",!0)]),o("div",null,[q,m(o("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.jenis_pinjaman=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},Z,512),[[f,t.form.jenis_pinjaman]]),t.errors.jenis_pinjaman?(i(),l("span",z,a(t.errors.jenis_pinjaman),1)):u("",!0)]),o("div",null,[G,m(o("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>t.form.jumlah_pinjaman=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[d,t.form.jumlah_pinjaman]]),o("label",K,a(c.formattedRupiah(t.form.jumlah_pinjaman)),1),t.errors.jumlah_pinjaman?(i(),l("span",Q,a(t.errors.jumlah_pinjaman),1)):u("",!0)]),o("div",null,[W,m(o("input",{type:"number",step:"0.01","onUpdate:modelValue":e[3]||(e[3]=s=>t.form.bunga=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[d,t.form.bunga]]),t.errors.bunga?(i(),l("span",X,a(t.errors.bunga),1)):u("",!0)]),o("div",Y,[$,o("span",oo,a(c.nominalBayarFormatted),1)]),to,o("div",null,[eo,m(o("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>t.form.tanggal_pengajuan=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[d,t.form.tanggal_pengajuan]]),t.errors.tanggal_pengajuan?(i(),l("span",no,a(t.errors.tanggal_pengajuan),1)):u("",!0)]),o("div",null,[so,m(o("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=s=>t.form.tanggal_disetujui=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[d,t.form.tanggal_disetujui]]),t.errors.tanggal_disetujui?(i(),l("span",ao,a(t.errors.tanggal_disetujui),1)):u("",!0)]),o("div",null,[ro,m(o("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=s=>t.form.tanggal_jatuh_tempo=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[d,t.form.tanggal_jatuh_tempo]]),t.errors.tanggal_jatuh_tempo?(i(),l("span",io,a(t.errors.tanggal_jatuh_tempo),1)):u("",!0)]),o("div",null,[lo,m(o("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>t.form.status_pinjaman=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},go,512),[[f,t.form.status_pinjaman]]),t.errors.status_pinjaman?(i(),l("span",_o,a(t.errors.status_pinjaman),1)):u("",!0)])]),o("div",fo,[o("button",{onClick:e[8]||(e[8]=(...s)=>c.prosesPinjam&&c.prosesPinjam(...s)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Buat Pinjaman ")])]),_:1})]),_:1})],64)}const So=H(M,[["render",ho],["__scopeId","data-v-12212ca8"]]);export{So as default};
