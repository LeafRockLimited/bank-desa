import{_ as w}from"./AdminLayout-9WE8as7q.js";import{Z as k,k as D,l as y,r,o as R,c as x,a as n,w as o,F as b,b as l,m as B}from"./app-xshmINiS.js";import{T as U}from"./Table-DNiH6u3p.js";import{C as V}from"./CardBody-DDyTtAB0.js";import{P as j}from"./PrimaryButton-1w3nVphY.js";import{H as h}from"./Helper-CD4WHvGO.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BH_bNMNy.js";import"./ResponsiveNavLink-CYClNS9r.js";import"./SecondaryButton-B-awMcv5.js";import"./Toast-DO6WADHa.js";const P={components:{AuthenticatedLayout:w,Head:k,Link:D,Table:U,CardBody:V,PrimaryButton:j},data(){return{dataUser:[],dataRow:[],page:1,length:10,searchQuery:null}},computed:{headers(){return["name","email","roles.name","created_at"]},startRow(){return this.dataUser.from??1},endRow(){return this.dataUser.to??0},totalData(){return this.dataUser.total??0},links(){return this.dataUser.links??[]}},watch:{page(t){this.getData()},length(t){this.page=1,this.getData()},searchQuery(t){this.page=1,this.getData()},tahun(t){this.page=1,this.getData()},bulan(t){this.page=1,this.getData()},status(t){this.page=1,this.getData()}},beforeMount(){this.getData()},methods:{async getData(){const t=route("user.show",{page:this.page,length:this.length,searchQuery:this.searchQuery}),u=(await y.get(t)).data;this.dataUser=u,this.mappingData()},mappingData(){var t,e;if(this.dataRow=[],((e=(t=this.dataUser)==null?void 0:t.data)==null?void 0:e.length)>0){let u=this.dataUser.data.map(a=>(a.nominal_diterima=h.rupiah(parseInt(a.nominal_diterima)),a.tanggal_jatuh_tempo=h.tanggal(a.tanggal_jatuh_tempo),a.tanggal_pengajuan=h.tanggal(a.tanggal_pengajuan),a.jumlah_pinjaman=h.rupiah(parseInt(a.jumlah_pinjaman)),a.roles=a.roles[0],console.log(a),a));this.dataRow=u}else return[]}}},L=l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Akun",-1),T={class:"flex flex-row space-x-4"},A={class:"w-fit"},H=l("p",{class:"text-lg font-bold"},"Buat akun baru",-1),Q=l("p",null,"Daftarkan akun baru untuk mengakses fitur diaplikasi ini",-1),v={class:"mt-4"};function I(t,e,u,a,d,s){const p=r("Head"),c=r("PrimaryButton"),m=r("Link"),g=r("CardBody"),_=r("Table"),f=r("AuthenticatedLayout");return R(),x(b,null,[n(p,{title:"Akun"}),n(f,null,{header:o(()=>[L]),default:o(()=>[n(g,null,{content:o(()=>[l("div",T,[l("div",A,[H,Q,l("div",v,[n(m,{href:t.route("user.create")},{default:o(()=>[n(c,{class:""},{default:o(()=>[B("+ Tambahkan akun")]),_:1})]),_:1},8,["href"])])])])]),_:1}),n(g,null,{content:o(()=>[n(_,{headers:s.headers,data:d.dataRow,startRow:s.startRow,links:s.links,lengthProps:t.lengthProps,deleteData:!0,deleteRoute:"user.delete",editData:!0,editRoute:"user.edit",totalData:s.totalData,endRow:s.endRow,actionUsingId:!0,onRefreshedData:e[0]||(e[0]=()=>{s.getData()}),onClickPage:e[1]||(e[1]=i=>{d.page=i}),onChangeLength:e[2]||(e[2]=i=>{d.length=i}),onOnSearch:e[3]||(e[3]=i=>{d.searchQuery=i})},null,8,["headers","data","startRow","links","lengthProps","totalData","endRow"])]),_:1})]),_:1})],64)}const K=C(P,[["render",I]]);export{K as default};
